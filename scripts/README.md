# arken/packages/evolution/scripts

Wrapper-level tooling for `arken/packages/evolution`.

## Current utilities
- `validateSubmoduleMap.mjs`: validates required non-client `.gitmodules` paths, verifies required mappings also exist as HEAD gitlinks, normalizes quoted/path-variant entries (single/double quotes, repeated/embedded `./` segments, duplicate slashes, trailing slash, backslashes) for both mapping and gitlink inputs, accepts case-insensitive `path` keys (`path`/`Path`/`PATH`) for git-config compatibility, accepts section-header variants (`[submodule ...]`) with mixed case/extra spacing and trailing comments, tolerates inline path comments (`#`/`;`) with quote-aware parsing (so comment markers inside quoted paths are preserved), preserves escaped inline-comment markers (`\#`, `\;`) in path values, strips an optional UTF-8 BOM prefix from `.gitmodules` content before parsing section headers, rejects invalid empty/comment-only path entries (including explicit `path =` blank and quoted-empty assignments), rejects unsafe path mappings (`..` traversal segments and absolute paths like `/...` or `C:/...`), reports submodule-owner sections that never declare a `path` mapping, reports duplicate path mappings, aggregates repeated conflicting re-maps for the same submodule owner into one deterministic conflict record, flags unexpected unmapped gitlinks, reports mapped paths that no longer resolve to `HEAD` gitlinks, detects duplicate normalized gitlink paths after canonicalization, rejects invalid empty/whitespace gitlink inputs, allows temporary `packages/client` skip policy, rejects invalid required/ignored overlap, and rejects invalid validator config entries where required/ignored path lists include empty values.
